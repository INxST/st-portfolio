---
import TopTitle from '../TopTitle.astro';
import Item from './Item.astro';
import works from '@/data/works';
import kanjiNumber from '@/libs/kanjiNumber';
import More from '../More.astro';

const newWorks = works.filter(work => work.isTop);
---

<section
  id="works-gallery"
  class="relative py-24 text-current contents-full md:py-[17.5rem]"
>
  <div class="flex md:justify-end md:pr-[20%]">
    <TopTitle
      sub="（制作実績）"
      title={['機能と情緒', '作品への想い']}
      href="/works"
      isSpHorizontal={true}
    />
  </div>

  <ul class="mt-9 md:mt-24">
    {
      newWorks.map((work, i) => {
        const kanji = kanjiNumber(i + 1);
        return <Item number={`(${kanji})`} item={work} />;
      })
    }
  </ul>

  <div
    class="ts-focus-in mt-24 flex flex-col items-center data-[active='true']:animate-text-focus-in md:mt-52"
  >
    <p class="text-3xl font-medium leading-none vertical-rl md:text-[2rem]">
      <span>全作品</span>
    </p>
    <span class="mt-4 h-7 w-[1px] bg-black md:mt-6 md:h-16"></span>
    <a
      href="/works"
      class="mb-8 mt-8 font-serif-en text-6xl leading-none md:mb-10 md:mt-10 md:text-[6.5rem]"
      >ALL WORKS</a
    >
    <More href="/works" color="dark" />
  </div>
</section>

<script>
  import handleHover from './handleHover';
  handleHover();
</script>
