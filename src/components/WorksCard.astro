---
import type { Work } from '@/types/Work';

interface Props {
  items: Work[];
}

const { items } = Astro.props;
---

<section id="scroll-slide" class="pt-[var(--header-height)] overflow-x-hidden">
  <ul
    id="scroll-slide-container"
    class="flex flex-nowrap justify-start whitespace-nowrap"
  >
    <li class="ts-scroll-slide-item whitespace-nowrap">
      <slot name="title" />
    </li>
    {
      items.map(item => {
        return (
          <li class="ts-scroll-slide-item md:w-[calc(calc(590/16)*1rem)] pt-5 pb-6 border-l peer-last:border-r last-of-type:border-r border-silver bg-quill-gray bg-[url(/texture-for-gray.png)] bg-repeat px-12 whitespace-nowrap">
            <a href={item.href} class="flex flex-col h-full">
              <div class="flex flex-1">
                <picture class="flex-1 w-[calc(calc(247/14)*1rem)] md:w-[calc(calc(464/16)*1rem)] h-[calc(calc(368/14)*1rem)] md:h-[calc(calc(560/16)*1rem)]">
                  <img
                    src={item.image}
                    alt={item.title}
                    class="w-full h-full object-cover"
                  />
                </picture>
                <div class="vertical-rl flex font-serif-en ml-3">
                  <ul class="flex flex-wrap gap-4">
                    {item.categories.map(category => {
                      return <li>{category}</li>;
                    })}
                  </ul>
                  <span class="inline-block mt-auto">{item.year}</span>
                </div>
              </div>
              <div class="mt-4">
                <h2 class="font-semibold text-xl md:text-3xl">{item.title}</h2>
                <ul class="flex flex-wrap gap-x-4 gap-y-2 font-serif-en mt-6 text-gray">
                  {item.tags.map(tag => {
                    return <li>{tag}</li>;
                  })}
                </ul>
              </div>
            </a>
          </li>
        );
      })
    }
    <li class="ts-scroll-slide-item pr-10 flex items-center">
      <slot name="link" />
    </li>
  </ul>
</section>
